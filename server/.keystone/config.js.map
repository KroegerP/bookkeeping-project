{
  "version": 3,
  "sources": ["../keystone.ts", "../auth.ts", "../schema/card.ts", "../schema/utils/index.ts", "../schema/category.ts", "../schema/purchase.ts", "../schema/user.ts", "../schema/index.ts"],
  "sourcesContent": ["// Welcome to Keystone!\n//\n// This file is what Keystone uses as the entry-point to your headless backend\n//\n// Keystone imports the default export of this file, expecting a Keystone configuration object\n//   you can find out more at https://keystonejs.com/docs/apis/config\n\nimport { config } from \"@keystone-6/core\";\n\n// to keep this file tidy, we define our schema in a different file\nimport { withAuth, session } from \"./auth\";\nimport { lists } from \"./schema\";\n\n// authentication is configured separately here too, but you might move this elsewhere\n// when you write your list-level access control functions, as they typically rely on session data\n\nexport const configuration = config({\n  db: {\n    provider: \"postgresql\",\n    url: \"postgres://postgres:test@localhost:5432\",\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    onConnect: async (context) => { /* ... */ },\n    // Optional advanced configuration\n    enableLogging: true,\n    idField: { kind: \"autoincrement\" },\n    shadowDatabaseUrl: \"postgres://postgres:test@localhost:5432/shadowdb\",\n  },\n  lists,\n  session,\n  server: {\n    port: 5000,\n    cors: { origin: [\"http://localhost:3000\"], credentials: true },\n  },\n});\n\nexport default withAuth(\n  configuration,\n);\n", "// Welcome to some authentication for Keystone\n//\n// This is using @keystone-6/auth to add the following\n// - A sign-in page for your Admin UI\n// - A cookie-based stateless session strategy\n//    - Using a User email as the identifier\n//    - 30 day cookie expiration\n//\n// This file does not configure what Users can do, and the default for this starter\n// project is to allow anyone - logged-in or not - to do anything.\n//\n// If you want to prevent random people on the internet from accessing your data,\n// you can find out how by reading https://keystonejs.com/docs/guides/auth-and-access-control\n//\n// If you want to learn more about how our out-of-the-box authentication works, please\n// read https://keystonejs.com/docs/apis/auth#authentication-api\n\nimport { randomBytes } from 'crypto';\nimport { createAuth } from '@keystone-6/auth';\n\n// see https://keystonejs.com/docs/apis/session for the session docs\nimport { statelessSessions } from '@keystone-6/core/session';\n\n// for a stateless session, a SESSION_SECRET should always be provided\n//   especially in production (statelessSessions will throw if SESSION_SECRET is undefined)\nlet sessionSecret = process.env.SESSION_SECRET;\nif (!sessionSecret && process.env.NODE_ENV !== 'production') {\n  sessionSecret = randomBytes(32).toString('hex');\n}\n\n// withAuth is a function we can use to wrap our base configuration\nconst { withAuth } = createAuth({\n  listKey: 'User',\n  identityField: 'email',\n\n  // this is a GraphQL query fragment for fetching what data will be attached to a context.session\n  //   this can be helpful for when you are writing your access control functions\n  //   you can find out more at https://keystonejs.com/docs/guides/auth-and-access-control\n  sessionData: 'name createdAt',\n  secretField: 'password',\n\n  // WARNING: remove initFirstItem functionality in production\n  //   see https://keystonejs.com/docs/config/auth#init-first-item for more\n  initFirstItem: {\n    // if there are no items in the database, by configuring this field\n    //   you are asking the Keystone AdminUI to create a new user\n    //   providing inputs for these fields\n    fields: ['name', 'email', 'password'],\n\n    // it uses context.sudo() to do this, which bypasses any access control you might have\n    //   you shouldn't use this in production\n  },\n});\n\n// statelessSessions uses cookies for session tracking\n//   these cookies have an expiry, in seconds\n//   we use an expiry of 30 days for this starter\nconst sessionMaxAge = 60 * 60 * 24 * 30;\n\n// you can find out more at https://keystonejs.com/docs/apis/session#session-api\nconst session = statelessSessions({\n  maxAge: sessionMaxAge,\n  secret: sessionSecret!,\n});\n\nexport { withAuth, session };\n", "import type { Lists } from \".keystone/types\";\nimport type { ListConfig } from \"@keystone-6/core\";\nimport { list } from \"@keystone-6/core\";\nimport { allowAll } from \"@keystone-6/core/access\";\nimport { checkbox, relationship, text, timestamp } from \"@keystone-6/core/fields\";\n\nimport { makeNonNullRef } from \"./utils\";\n\n\n\nexport const Card: ListConfig<Lists.Card.TypeInfo> = list({\n  access: allowAll,\n\n  fields: {\n    name: text({ validation: { isRequired: true }, isIndexed: \"unique\", ...makeNonNullRef() }),\n    bank: text({ validation: { isRequired: true }, ...makeNonNullRef() }),\n    lastFour: text({ validation: { isRequired: true }, isIndexed: \"unique\", ...makeNonNullRef() }),\n    creditCard: checkbox({ defaultValue: false }),\n    notes: text({ validation: { isRequired: false } }),\n    purchases: relationship({ ref: \"Purchase.card\", many: true }),\n    expiresAt: timestamp({\n      // this sets the timestamp to Date.now() when the user is first created\n      defaultValue: { kind: \"now\" },\n    }),\n    createdAt: timestamp({\n      defaultValue: { kind: \"now\" },\n    }),\n  },\n});", "export function makeNonNullRef() {\n  return {\n    graphql: {\n      isNonNull: {\n        read: true,\n        create: true,\n        update: true,\n      },\n    },\n  };\n}", "import type { Lists } from \".keystone/types\";\nimport type { ListConfig } from \"@keystone-6/core\";\nimport { list } from \"@keystone-6/core\";\nimport { allowAll } from \"@keystone-6/core/access\";\nimport { relationship, text } from \"@keystone-6/core/fields\";\n\nimport { makeNonNullRef } from \"./utils\";\n\n\n\nexport const Category: ListConfig<Lists.Category.TypeInfo> = list({\n  // WARNING\n  //   for this starter project, anyone can create, query, update and delete anything\n  //   if you want to prevent random people on the internet from accessing your data,\n  //   you can find out more at https://keystonejs.com/docs/guides/auth-and-access-control\n  access: allowAll,\n\n  // this is the fields for our User list\n  fields: {\n\n    name: text({ validation: { isRequired: true }, isIndexed: \"unique\", ...makeNonNullRef() }),\n\n    purchases: relationship({ ref: \"Purchase.category\", many: true }),\n  },\n});", "import type { Lists } from \".keystone/types\";\nimport type { ListConfig } from \"@keystone-6/core\";\nimport { list } from \"@keystone-6/core\";\nimport { allowAll } from \"@keystone-6/core/access\";\nimport { float, relationship, text, timestamp } from \"@keystone-6/core/fields\";\n\nimport { makeNonNullRef } from \"./utils\";\n\n\n\nexport const Purchase: ListConfig<Lists.Purchase.TypeInfo> = list({\n  // WARNING\n  //   for this starter project, anyone can create, query, update and delete anything\n  //   if you want to prevent random people on the internet from accessing your data,\n  //   you can find out more at https://keystonejs.com/docs/guides/auth-and-access-control\n  access: allowAll,\n\n  // this is the fields for our User list\n  fields: {\n\n    // by adding isRequired, we enforce that every User should have a name\n    //   if no name is provided, an error will be displayed\n    date: timestamp({\n      defaultValue: \"2023-12-30T18:05:29.700Z\",\n      validation: { isRequired: true },\n      ...makeNonNullRef(),\n    }),\n\n    description: text({\n      validation: { isRequired: true },\n      // by adding isIndexed: 'unique', we're saying that no user can have the same\n      // email as another user - this may or may not be a good idea for your project,\n      ...makeNonNullRef(),\n    }),\n\n    cost: float({ \n      validation: { isRequired: true },\n      ...makeNonNullRef(),\n    }),\n\n    total: float({ validation: { isRequired: true }, ...makeNonNullRef() }),\n\n    // we can use this field to see what Posts this User has authored\n    //   more on that in the Post list below\n    category: relationship({ ref: \"Category.purchases\", ...makeNonNullRef() }),\n\n    card: relationship({ ref: \"Card.purchases\" }),\n\n    createdBy: relationship({ ref: \"User.purchases\" }),\n\n    createdAt: timestamp({\n      // this sets the timestamp to Date.now() when the user is first created\n      defaultValue: { kind: \"now\" },\n    }),\n  },\n});", "import type { Lists } from \".keystone/types\";\nimport type { ListConfig } from \"@keystone-6/core\";\nimport { list } from \"@keystone-6/core\";\nimport { allowAll } from \"@keystone-6/core/access\";\nimport { password, relationship, text, timestamp } from \"@keystone-6/core/fields\";\n\n\n\nexport const User: ListConfig<Lists.User.TypeInfo> = list({\n  // WARNING\n  //   for this starter project, anyone can create, query, update and delete anything\n  //   if you want to prevent random people on the internet from accessing your data,\n  //   you can find out more at https://keystonejs.com/docs/guides/auth-and-access-control\n  access: allowAll,\n\n  // this is the fields for our User list\n  fields: {\n    // by adding isRequired, we enforce that every User should have a name\n    //   if no name is provided, an error will be displayed\n    name: text({ validation: { isRequired: true } }),\n\n    email: text({\n      validation: { isRequired: true },\n      // by adding isIndexed: 'unique', we're saying that no user can have the same\n      // email as another user - this may or may not be a good idea for your project\n      isIndexed: \"unique\",\n    }),\n\n    password: password({ validation: { isRequired: true } }),\n\n    purchases: relationship({ ref: \"Purchase.createdBy\", many: true }),\n\n    createdAt: timestamp({\n      // this sets the timestamp to Date.now() when the user is first created\n      defaultValue: { kind: \"now\" },\n    }),\n  },\n});", "\nimport type { Lists } from \".keystone/types\";\n\nimport { Card } from \"./card\";\nimport { Category } from \"./category\";\nimport { Purchase } from \"./purchase\";\nimport { User } from \"./user\";\n\n\n\nexport const lists: Lists = {\n  User,\n  Purchase,\n  Category,\n  Card,\n};\n"],
  "mappings": "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",
  "names": ["import_core", "import_core", "import_access", "import_fields", "import_core", "import_access", "import_fields", "import_core", "import_access", "import_fields"]
}
